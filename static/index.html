<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, height=device-height, target-densitydpi=device-dpi, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
        
<title>Demo Backbone</title>
<link type="text/css" href="css/index.css" rel="stylesheet" id="stylesheet">
<link type="text/css" href="css/android.css" rel="stylesheet" id="device-stylesheet">
<link type="text/css" href="/noNFCscreen.css" rel="stylesheet">
<link type="text/css" href="/animateLogo.css" rel="stylesheet">
<style>
html, body{
	width:100%;
	height:100%;
	padding:0px;
	margin:0px;
	overflow:hidden;
	position:relative;
}

.col{
	position:absolute;
	top:0;
	height:100%;
	backface-visibility:hidden;
	overflow:hidden;
	z-index:1;
}
#menu-view, #noNFC_view{
	position:absolute;
	height:100%;
	top:0px;
	left:0px;
	-webkit-backface-visibility: hidden;
    -webkit-perspective: 1000;
}

#menu_screen, #noNFC_screen{
	width:100%;
	height:100%;
	padding:0px;
	margin:0px;
	position:absolute;
	overflow:hidden;
}

#noNFC_screen{
	z-index:200;
}

#menu_screen{
	z-index:100;
	display:block;
}

</style>

<script src="lib/jquery-1.7.1.js"></script>
<script src="lib/jquery-mobile.js"></script>
<script src="lib/underscore-min.js"></script>
<script src="lib/backbone-min.js"></script>
<script src="lib/dust-core-1.0.0.js"></script>
<script src="lib/iscroll.js"></script>

<script src="globals.js"></script>

<!--View Templates -->
<script type="text/javascript" src="jsTemplates/itemView.js"></script>
<script type="text/javascript" src="jsTemplates/itemDetailedView.js"></script>
<script type="text/javascript" src="jsTemplates/singleComment.js"></script>

<!--Backbone Views -->
<script src="views/menu_view.js"></script>
<script src="views/loading_view.js"></script>
<script src="views/noNFC_view.js"></script>
<script src="views/screen_view.js"></script>
<script src="views/front_screen_view.js"></script>
<script src="views/item_view.js"></script>
<script src="views/item_detailed_view.js"></script>
<script src="models/models.js"></script>
<script src="views/comments.js"></script>
<script src="views/add_comment_view.js"></script>

<script>
$(document).ready(function (){  	

	// define screen dimensions - take into account iphone footer bar
	var Dim = new Object();
	if((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i))) {
		Dim.height = window.innerHeight;
		Dim.width = window.innerWidth;
		// set stylesheet
		$("#device-stylesheet").attr("href", "css/iphone.css");
		console.log('iphone');
	}
	else{
		Dim.height = window.outerHeight;
		Dim.width = window.outerWidth;	
	}
	
	$('body').css('font-size', Dim.width*0.06+'px');
	$('body').css('width', Dim.width+'px');
	$('body').css('height', Dim.height+'px');
	$('[data-role="page"]').css('width', size.width+'px');
	$('[data-role="page"]').css('height', size.height+'px');
	$('#menu_screen').css('width', Dim.width+'px');
	$('#menu_screen').css('height', Dim.height+'px');
	$('#noNFC_screen').css('width', Dim.width+'px');
	$('#noNFC_screen').css('height', Dim.height+'px');
	
	
	// LOAD noNFC SCREEN
		var nonfcView = new noNFCView(Dim);
		nonfcView.render();
		nonfcView.slide(1,0);
		
		//$('#noNFC_view').bind('mousedown', function(e){noNFCView.input_number(e);});
	
	/*
	// TAP - loading screen
	var loadingView = new LoadingView();
	$('[data-role="page"]').append(loadingView.render().el);
	//loadingView.animateLogo();
	loadingView.loadMenu();
	*/
	
	/*
	// LOAD MENU DATA FROM JSON FILE
		var data = $.ajax({
							type: 'GET',
							url: '/json/iota.json',
							dataType: 'json',
							success: function() { },
							data: {},
							async: false
						});
		data = JSON.parse(data.responseText);
		data = data.categories;
		
		var menuView = new MenuView(Dim);
		menuView.render(data);		
	*/
	
})
</script>

</head>

<body>
    
    <div id="noNFC_screen">
        <div id="noNFC_view"></div>
    </div>
    
    <div id="menu_screen">
        <div id="menu_view"></div>
    </div>
	
    <div id="overlay"></div>
    <div id="enterCommentOverlay"></div>


</body>
</html>
